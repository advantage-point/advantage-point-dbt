version: 2

models:
  - name: dim__match
    description: Dimension table for matches.
    columns:
      - name: sk_match
        data_type: string
        description: Surrogate key for match.
        data_tests:
          - unique
          - not_null

      - name: bk_match
        data_type: string
        description: Business key for match.
        data_tests:
          - not_null

      - name: sk_match_tournament
        data_type: string
        description: Foreign key from match tournament to tournament.
        data_tests:
          - not_null
          - relationships:
              arguments:
                to: ref('dim__tournament')
                field: sk_tournament

      - name: bk_match_tournament
        data_type: string
        description: Business key for tournament.
        data_tests:
          - not_null

      - name: sk_match_date
        data_type: integer
        description: Foreign key from match date to date.
        data_tests:
          - not_null
          - relationships:
              arguments:
                to: ref('dim__date')
                field: sk_date

      - name: bk_match_date
        description: Unique identifier for match date.
        tests:
          - not_null

      - name: bk_match_players
        data_type: array
        description: Array of unique identifiers for players who participated in the match.
        data_tests:
          - not_null

      - name: match_gender
        data_type: string
        description: Gender of the match.
        data_tests:
          - not_null

      - name: match_round
        data_type: string
        description: Round in which match was played.
        data_tests:
          - not_null

      - name: match_title
        data_type: string
        description: Human-readable match title.
        data_tests:
          - not_null